!function(o,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ajaxManager=n():o.ajaxManager=n()}(this,function(){return function(o){function n(t){if(e[t])return e[t].exports;var r=e[t]={i:t,l:!1,exports:{}};return o[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};return n.m=o,n.c=e,n.d=function(o,e,t){n.o(o,e)||Object.defineProperty(o,e,{configurable:!1,enumerable:!0,get:t})},n.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(e,"a",e),e},n.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},n.p="",n(n.s=0)}([function(o,n,e){"use strict";function t(o){return o&&o.__esModule?o:{default:o}}Object.defineProperty(n,"__esModule",{value:!0});var r=e(1);Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t(r).default}})},function(o,n,e){"use strict";function t(o){if(Array.isArray(o)){for(var n=0,e=Array(o.length);n<o.length;n++)e[n]=o[n];return e}return Array.from(o)}function r(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=window.__apiConfig__[o];r||(r={});var i=r.url||t.url||n.url||e.url||"",a=window.__apiRoot__||t.__apiRoot||n.__apiRoot||e.__apiRoot||"";return r.ignoreGlobalApiRoot||t.__ignoreGlobalApiRoot||n.__ignoreGlobalApiRoot||e.__ignoreGlobalApiRoot?i:a+i}Object.defineProperty(n,"__esModule",{value:!0}),window.__apiCount__=0,window.__apiCounter={add:function(){window.__apiCount__++},remove:function(){window.__apiCount__--},get:function(){return window.__apiCount__}},window.__apiConfig__||(window.__apiConfig__={}),window.__apiRoot__||(window.__apiRoot__=null);var i=function(){function o(o,n){for(var e=0;e<o.length;e++)"function"==typeof o[e]&&o[e].apply(o,t(n))}function n(o,n){"function"==typeof o&&o.apply(void 0,t(n))}function e(o,n){for(var e=0;e<p[o].length;e++){var r;"function"==typeof p[o][e]&&(r=p[o])[e].apply(r,t(n))}}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments[2],_=u,l={};i.forEach(function(o,n){for(var e in o){var t=o[e];if(e in l)throw new Error('model: api should not have same name "'+e+'".');l[e]=t}});var f={beforeSend:[],success:[],error:[],complete:[]},p={ajaxStart:[],ajaxStop:[]},c={};for(var d in l)!function(t){/^__/g.test(t)||(c[t]=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object.keys(f).map(function(o){a[o]&&f[o].push(a[o]),l.__globlal[o]&&f[o].push(l.__globlal[o])}),Object.keys(p).map(function(o){a[o]&&p[o].push(a[o]),l.__globlal[o]&&p[o].push(l.__globlal[o])});var d={beforeSend:null,success:null,error:null,complete:null};Object.keys(d).map(function(o){d[o]=i[o]||l[t][o]});var s=Object.assign({},a.data||{},l.__globlal.data||{},l[t].data||{},i.data||{}),g=Object.assign({},a||{},l[t]||{},i,{url:r(t,l[t],a,i),data:s,beforeSend:function(t){u&&(window.__apiCounter.add(),e("ajaxStart",[t])),c&&o(f.beforeSend,[t]),n(d.beforeSend,[t])},success:function(e,t,r){c&&o(f.success,[e,t,r]),n(d.success,[e,t,r])},error:function(e,t,r){c&&o(f.error,[e,t,r]),n(d.error,[e,t,r])},complete:function(t,r){u&&(window.__apiCounter.remove(),e("ajaxStop",[t,r])),c&&o(f.complete,[t,r]),n(d.complete,[t,r])}});return g.contentType&&"application/json"===g.contentType.toLowerCase().trim()&&(g.data=JSON.stringify(s)),window.__apiConfig__&&window.__apiConfig__[t]&&window.__apiConfig__[t].type&&(g.type=window.__apiConfig__[t].type),_.ajax(g)})}(d);return c};n.default=i}])});